<div class="container">
    <mat-form-field appearance="standard">
        <input matInput (keyup)="applyFilter($event)" placeholder="Filtrar Pokémon" #input>
      </mat-form-field>
      
      <table mat-table [dataSource]="dataSource" matSort matSortActive="id" matSortDirection="asc" class="mat-elevation-z8">             
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Imagen</th>
            <td mat-cell *matCellDef="let element">
                <img src="{{element.sprite}}" width="65px" alt=""> 
              </td>
          </ng-container>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Id.</th>
          <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container> 
        <ng-container matColumnDef="types">          
            <th mat-header-cell *matHeaderCellDef>Tipos</th> 
            <td mat-cell *matCellDef="let row">                               
            <span *ngFor="let tipo of row.types">
            <ng-container *ngFor="let imagenTipo of type_img"> 
                <img src="{{ imagenTipo.img }}" style="height: auto;" *ngIf="imagenTipo.name == tipo.type.name" alt="">    
            </ng-container>
            </span> 
            </td>
        </ng-container>
        <ng-container matColumnDef="ps">          
            <th mat-header-cell *matHeaderCellDef title="Puntos de salud base">PS</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='hp'"><span class="title">PS base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>
        <ng-container matColumnDef="atk">          
            <th mat-header-cell *matHeaderCellDef title="Ataque base">Atk.</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='attack'"><span class="title">Ataque base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>
        <ng-container matColumnDef="def">          
            <th mat-header-cell *matHeaderCellDef title="Defensa base">Def.</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='defense'"><span class="title">Defensa base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>
        <ng-container matColumnDef="s-atk">          
            <th mat-header-cell *matHeaderCellDef title="Ataque especial base">S-Atk.</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='special-attack'"><span class="title">At. especial base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>
        <ng-container matColumnDef="s-def">          
            <th mat-header-cell *matHeaderCellDef title="Defensa especial base">S-Def.</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='special-defense'"><span class="title">Def. especial base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>
        <ng-container matColumnDef="speed">          
            <th mat-header-cell *matHeaderCellDef title="Velocidad base">Vel.</th> 
            <td mat-cell *matCellDef="let row">                           
                <ng-container *ngFor="let stat of row.stats">
                    <ng-container *ngIf="stat.stat.name=='speed'"><span class="title">Velocidad base:</span> {{stat.base_stat}}</ng-container>
                </ng-container> 
            </td>
        </ng-container>    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">No se encuentran resultados</td>
        </tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5]" aria-label="Selecciona página de pókemon"></mat-paginator>
</div>